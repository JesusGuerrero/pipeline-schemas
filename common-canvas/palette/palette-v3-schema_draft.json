{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Common Canvas palette schema",
  "id": "http://api.dataplatform.ibm.com/schemas/common-canvas/palette/palette-v3-schema.json",
  "version": {
    "description": "Palette schema version",
    "enum": [
      "3.0"
    ]
  },
  "oneOf": [
    {
      "$ref": "#/definitions/tabs_def"
    },
    {
      "$ref": "#/definitions/categories_def"
    }
  ],
  "definitions": {
    "tabs_def": {
      "description": "Array of palette tabs",
      "type": "object",
      "properties": {
        "tabs": {
          "description": "Array of tabs",
          "type": "array",
          "minItems": 0,
          "items": {
            "$ref": "#/definitions/tab_def"
          },
          "uniqueItems": true
        }
      },
      "additionalProperties": false
    },
    "tab_def": {
      "description": "Palette tabs",
      "type": "object",
      "properties": {
        "id": {
          "description": "ID of the tab",
          "type": "string"
        },
        "label": {
          "description": "Tab label",
          "type": "string"
        },
        "image": {
          "description": "Encoded image or image reference for the tab",
          "type": "string"
        },
        "categories": {
          "description": "Array of categories",
          "type": "array",
          "minItems": 0,
          "items": {
            "$ref": "#/definitions/category_def"
          },
          "uniqueItems": true
        }
      },
      "required": [
        "id",
        "label"
      ],
      "additionalProperties": false
    },
    "categories_def": {
      "description": "Array of palette categories",
      "type": "object",
      "properties": {
        "categories": {
          "description": "Array of pipeline categories",
          "type": "array",
          "minItems": 0,
          "items": {
            "$ref": "#/definitions/category_def"
          },
          "uniqueItems": true
        }
      },
      "additionalProperties": false
    },
    "category_def": {
      "description": "Palette Category",
      "type": "object",
      "properties": {
        "id": {
          "description": "ID of the category",
          "type": "string"
        },
        "label": {
          "description": "Category label",
          "type": "string"
        },
        "image": {
          "description": "Encoded image or image reference for the category",
          "type": "string"
        },
        "node_types": {
          "description": "Array of pipeline node types",
          "type": "array",
          "minItems": 0,
          "items": {
            "$ref": "http://api.dataplatform.ibm.com/schemas/common-pipeline/pipeline-flow/pipeline-flow-v3-schema.json#/definitions/node_type_def"
          },
          "uniqueItems": true
        }
      },
      "required": [
        "id",
        "label"
      ],
      "additionalProperties": false
    }
  }
}
