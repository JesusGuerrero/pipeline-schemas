{  
   "$schema":"http://json-schema.org/draft-04/schema#",
   "id":"http://www.ibm.com/ibm/wdp/source-target-pdr/v1.0/source-target-pdr-v1-schema.json#",
   "title":"Watson Data Platform Physical Data Resource Schema",
   "description":"Physical data resource schema for pipelines in the Watson Data Platform",
   "definitions":{  
      "common_pipeline_pdr_def":{  
         "description":"A physical source or target for the pipeline.",
         "properties":{  
            "app_data":{  
               "$ref":"http://www.ibm.com/ibm/wml/pipeline-flow/pipeline-flow-v1-schema.json#/definitions/app_data_def"
            },
            "connection":{  
               "description":"The physical dataset used for this source or target. Mutually exclusive with physical_dataset.",
               "$ref":"#/definitions/common_pipeline_pdr_connection_def"
            },
            "dataset_bindings":{  
               "$ref":"#/definitions/common_pipeline_pdr_dataset_bindings_def"
            },
            "id":{  
               "description":"The unique ID of the object.",
               "type":"string"
            },
            "physical_dataset":{  
               "description":"The physical dataset used for this source or target. Mutually exclusive with connection.",
               "$ref":"#/definitions/common_pipeline_pdr_physical_dataset_def"
            },
            "schema_ref":{  
               "description":"Optional dataset schema associated with the source or target",
               "type":"string"
            }
         },
         "required":[  
            "id"
         ],
         "type":"object"
      },
      "common_pipeline_pdr_connection_def":{  
         "description":"Connection definition for a pipeline source or target.",
         "properties":{  
            "connection_ref":{  
               "description":"A reference to a connection by ID.",
               "type":"string"
            },
            "connection_catalog_ref":{  
               "description":"If connection_ref is set, this refers to the ID of the catalog which contains the connection. If neither this attribute nor connection_project_ref are specified, the connection will be assumed to exist in the project or catalog which contains the pipeline.",
               "type":"string"
            },
            "connection_project_ref":{  
               "description":"If connection_ref is set, this refers to the ID of the project which contains the connection. If neither this attribute nor connection_catalog_ref are specified, the connection will be assumed to exist in the project or catalog which contains the pipeline.",
               "type":"string"
            },
            "interaction_properties":{  
               "description":"The interaction properties for the connection.",
               "type":"array",
               "items":{  
                  "type":"object",
                  "properties":{  
                     "name":{  
                        "description":"The name of the property",
                        "type":"string"
                     },
                     "value":{  
                        "description":"The value of the property",
                        "type":"object"
                     }
                  },
                  "required":[  
                     "name",
                     "value"
                  ]
               }
            }
         },
         "required":[  
            "connection_ref"
         ],
         "type":"object"
      },
      "common_pipeline_pdr_dataset_bindings_def":{  
         "description":"The binding between a physical data resource and one or more logical datasets.",
         "items":{  
            "type":"object",
            "properties":{  
               "dataset_ref":{  
                  "description":"Reference to a logical dataset which is to be bound.",
                  "type":"string"
               },
               "pipeline_ref":{  
                  "description":"Optional reference to the pipeline containing the dataset to reference. If not set the primary pipeline is assumed.",
                  "type":"string"
               }
            },
            "required":[  
               "dataset_ref"
            ]
         },
         "type":"array"
      },
      "common_pipeline_pdr_physical_dataset_def":{  
         "description":"Physical dataset definition for a pipeline source or target.",
         "properties":{  
            "physical_dataset_ref":{  
               "description":"A reference to a physical dataset by ID.",
               "type":"string"
            },
            "physical_dataset_catalog_ref":{  
               "description":"If physical_dataset_ref is set, this refers to the ID of the catalog which contains the physical dataset. If neither this attribute nor physical_dataset_project_ref are specified, the physical dataset will be assumed to exist in the project or catalog which contains the pipeline.",
               "type":"string"
            },
            "physical_dataset_project_ref":{  
               "description":"If physical_dataset_ref is set, this refers to the ID of the project which contains the physical dataset. If neither this attribute nor physical_dataset_catalog_ref are specified, the physical dataset will be assumed to exist in the project or catalog which contains the pipeline.",
               "type":"string"
            },
            "dataset_properties":{  
               "description":"Properties controlling how the physical dataset is used.",
               "type":"object",
               "properties":{  
                  "attachment_ref":{  
                     "description":"The ID of the physical data set attachment to use. If not specified and used as a source, the first suitable attachment found will be used. If not specified and used as a target, a new attachment will be created.",
                     "type":"string"
                  },
                  "create_name":{  
                     "description":"When used as a target, specifies the name of the physical dataset to create if physical_dataset_ref is unset.",
                     "type":"boolean",
                     "default":false
                  },
                  "no_write_schema":{  
                     "description":"When used as a target, whether to update the physical data set with the schema when a run completes or not (will be automatically updated if not supplied by caller).",
                     "type":"boolean",
                     "default":false
                  },
                  "no_write_status":{  
                     "description":"When used as a target, whether to update the physical data set with the status when a run completes or not (will be automatically updated if not supplied by caller).",
                     "type":"boolean",
                     "default":false
                  }
               }
            }
         },
         "type":"object"
      }
   }
}